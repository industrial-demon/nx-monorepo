<div class="p-3">
  <div *ngIf="isLoading" class="">
    <loading-spinner></loading-spinner>
  </div>

  <div *ngIf="error" class="rounded bg-red-200 py-2 px-2">
    <mat-hint class="text-red-600">{{ error }}</mat-hint>
  </div>

  <form #authForm="ngForm" (ngSubmit)="onSubmit()">
    <div class="flex flex-col">
      <mat-form-field>
        <mat-label>email</mat-label>
        <input
          [disabled]="isLoading"
          ngModel
          matInput
          type="email"
          autocomplete="off"
          name="email"
          id="email"
          required
          email
        />
      </mat-form-field>

      <mat-form-field>
        <mat-label>password</mat-label>
        <input
          [disabled]="isLoading"
          ngModel
          matInput
          type="password"
          autocomplete="off"
          name="password"
          id="password"
          required
          password
        />
      </mat-form-field>

      <div class="flex gap-2">
        <button
          mat-flat-button
          type="submit"
          color="primary"
          [disabled]="isLoading"
        >
          {{ isLoginMode ? 'Login' : 'Sign Up' }}
        </button>
        <button
          mat-flat-button
          color="primary"
          (click)="switchMode()"
          type="button"
          [disabled]="isLoading"
        >
          Switch to {{ !isLoginMode ? 'Login' : 'Sign Up' }}
        </button>
      </div>
    </div>
  </form>
</div>
